{"version":3,"sources":["webpack:///webpack/bootstrap 00166583d12c05865fd1","webpack:///./http/game/game.jsx"],"names":[],"mappings":"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","file":"game.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 00166583d12c05865fd1\n **/","let socket = new WebSocket((location.protocol === 'http:' ? 'ws://' : 'wss://') + location.hostname + (location.port != 80 ? ':' + location.port : '') + '/play/');\nconst cont = document.getElementById('cont');\nlet gameHasEnded = false;\nlet answers = [];\n\nlet game;\nlet username;\nlet crewNumber;\n\nfunction setState(id) {\n\tcont.children.forEach((e) => {\n\t\tif (e.id !== id) {\n\t\t\te.hidden = true;\n\t\t}\n\t});\n\tdocument.getElementById(id).hidden = false;\n\t// if filling out form, automatically focus\n\t// to the next input field\n\tvar e = document.getElementById(id).getElementsByTagName('input');\n\tif (e.length) e[0].focus();\n}\n\nfunction setupGameEnvironment() {\n\tdocument.getElementById('content').hidden = true;\n\tdocument.body.style.cssText =\n\t\t`background: #32c0cf repeat-x center top; background-size: cover;`;\n}\n\nfunction confirmMessageRecieved() {\n\tsocket.send(JSON.stringify({event: 'messageRecieved'}));\n}\n\nsocket.onmessage = function(m) {\n\ttry {\n\t\tm = JSON.parse(m.data);\n\t} catch (e) {\n\t\tconsole.log(e);\n\t\treturn sweetAlert('Socket error.');\n\t}\n\n\tconfirmMessageRecieved();\n\n\tswitch (m.event) {\n\tcase 'ping':\n\t\tbreak;\n\tcase 'notice':\n\t\terrorEl.textContent = m.body;\n\t\terrorEl.scrollIntoView();\n\t\tbreak;\n\tcase 'error':\n\t\tdocument.getElementById('joinCrewButton').disabled = false;\n\t\tdocument.getElementById('joinGameButton').disabled = false;\n\t\tsweetAlert(m.title, m.text, \"error\");\n\t\tbreak;\n\tcase 'addUser':\n\t\tsetState('crew');\n\t\tbreak;\n\tcase 'addUserToCrew':\n\t\tdocument.getElementById('crewnodisplay').textContent =\n\t\t\tparseInt(document.getElementById('crewno').value, 10);\n\t\tcrewNumber = parseInt(document.getElementById('crewno').value, 10);\n\t\tsetState('wait');\n\t\tbreak;\n\tcase 'removeUserFromCrew':\n\t\tsetState('crew');\n\t\tbreak;\n\tcase 'removeUserFromGame':\n\t\tsetState('join');\n\t\tbreak;\n\tcase 'startGame':\n\t\tsetState('mountNode');\n\t\tsetupGameEnvironment();\n\t\tanswers = m.answers;\n\t\tgame = ReactDOM.render(<Game\n  socket={socket} username={username}\n  crewNumber={crewNumber} answerData={m.answers}\n\tcrewSize={m.crewSize}\n  />,\n\t\t\tdocument.getElementById('mountNode'));\n\t\tbreak;\n\tcase 'answerSelected':\n\t\tif (m.wasCorrectAnswer) {\n\t\t\tgame.correctAnswer(m.answer);\n\t\t} else {\n\t\t\tgame.incorrectAnswer(m.answer);\n\t\t}\n\t\tbreak;\n\tcase 'updateHP':\n\t\tgame.updateHP(m.hp);\n\t\tbreak;\n\tcase 'addRock':\n\t\tgame.addRock(m.startTime);\n\t\tbreak;\n\tcase 'endRock':\n\t\tgame.endRock();\n\t\tbreak;\n\tcase 'whirlpoolAhead':\n\t\tgame.addWhirlpoolTap();\n\t\tbreak;\n\tcase 'whirlpoolQuestion':\n\t\tgame.addWhirlpoolQuestion(m.question);\n\t\tbreak;\n\tcase 'whirlpoolBonusReceived':\n\t\tconsole.log('Bonus received');\n\t\tgame.setState({whirlpoolBonus: m.amount});\n\t\tbreak;\n\tcase 'whirlpoolConclusion':\n\t\tgame.setState({whirlpool: false});\n\t\tgame.state.whirlpoolTimebar.reset();\n\t\tbreak;\n\tcase 'correctAnswer':\n\t\tgame.addCorrectAnswer(m.answer);\n\t\tbreak;\n\tcase 'newQuestion':\n\t\tgame.newQuestion(m.question);\n\t\tbreak;\n\tcase 'endGame':\n\t\tgameHasEnded = true;\n\t\tbreak;\n\tdefault:\n\t\tconsole.log('Game recieved unknown event: ', m.event);\n\t\tbreak;\n\t}\n};\n\nsocket.onclose = () => {\n\tsweetAlert(\"Server connection died.\", \"We're sorry about that.\", \"error\");\n};\ndocument.getElementById('join').addEventListener('submit', (e) => {\n\te.preventDefault();\n\tdocument.getElementById('joinGameButton').disabled = true;\n\tsocket.send(JSON.stringify({\n\t\tevent: 'addUser',\n\t\tcode: parseInt(document.getElementById('game-code').value, 10),\n\t\tname: document.getElementById('crewmember-name').value\n\t}));\n\tusername = document.getElementById('crewmember-name').value;\n});\n\ndocument.getElementById('crew').addEventListener('submit', (e) => {\n\tdocument.getElementById('joinCrewButton').disabled = true;\n\te.preventDefault();\n\tsocket.send(JSON.stringify({\n\t\tevent: 'addUserToCrew',\n\t\tcrewNumber: parseInt(document.getElementById('crewno').value, 10)\n\t}));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./http/game/game.jsx\n **/"],"sourceRoot":""}