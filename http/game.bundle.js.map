{"version":3,"sources":["webpack:///game.bundle.js","webpack:///webpack/bootstrap 591fa6b21d91b2d03bf8","webpack:///./http/game/game.jsx"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","setState","cont","children","forEach","e","hidden","document","getElementById","getElementsByTagName","length","focus","setupGameEnvironment","body","style","cssText","confirmMessageRecieved","socket","send","JSON","stringify","event","WebSocket","location","protocol","hostname","port","gameHasEnded","answers","game","username","crewNumber","onmessage","parse","data","console","log","sweetAlert","errorEl","textContent","scrollIntoView","disabled","title","text","parseInt","value","ReactDOM","render","React","createElement","Game","answerData","crewSize","wasCorrectAnswer","correctAnswer","answer","incorrectAnswer","updateHP","hp","addRock","startTime","endRock","addWhirlpoolTap","addWhirlpoolQuestion","question","whirlpoolBonus","amount","whirlpool","state","whirlpoolTimebar","reset","addCorrectAnswer","newQuestion","onclose","addEventListener","preventDefault","code","name"],"mappings":"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","file":"game.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!****************************!*\\\n  !*** ./http/game/game.jsx ***!\n  \\****************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar socket = new WebSocket((location.protocol === 'http:' ? 'ws://' : 'wss://') + location.hostname + (location.port !== 80 ? ':' + location.port : '') + '/play/');\n\tvar cont = document.getElementById('cont');\n\tvar gameHasEnded = false;\n\tvar answers = [];\n\t\n\tvar game = void 0;\n\tvar username = void 0;\n\tvar crewNumber = void 0;\n\t\n\tfunction setState(id) {\n\t\tcont.children.forEach(function (e) {\n\t\t\tif (e.id !== id) {\n\t\t\t\te.hidden = true;\n\t\t\t}\n\t\t});\n\t\tdocument.getElementById(id).hidden = false;\n\t\t// if filling out form, automatically focus\n\t\t// to the next input field\n\t\tvar e = document.getElementById(id).getElementsByTagName('input');\n\t\tif (e.length) e[0].focus();\n\t}\n\t\n\tfunction setupGameEnvironment() {\n\t\tdocument.getElementById('content').hidden = true;\n\t\tdocument.body.style.cssText = 'background: #32c0cf repeat-x center top; background-size: cover;';\n\t}\n\t\n\tfunction confirmMessageRecieved() {\n\t\tsocket.send(JSON.stringify({ event: 'messageRecieved' }));\n\t}\n\t\n\tsocket.onmessage = function (m) {\n\t\ttry {\n\t\t\tm = JSON.parse(m.data);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn sweetAlert('Socket error.');\n\t\t}\n\t\n\t\tconfirmMessageRecieved();\n\t\n\t\tswitch (m.event) {\n\t\t\tcase 'ping':\n\t\t\t\tbreak;\n\t\t\tcase 'notice':\n\t\t\t\terrorEl.textContent = m.body;\n\t\t\t\terrorEl.scrollIntoView();\n\t\t\t\tbreak;\n\t\t\tcase 'error':\n\t\t\t\tdocument.getElementById('joinCrewButton').disabled = false;\n\t\t\t\tdocument.getElementById('joinGameButton').disabled = false;\n\t\t\t\tsweetAlert(m.title, m.text, \"error\");\n\t\t\t\tbreak;\n\t\t\tcase 'addUser':\n\t\t\t\tsetState('crew');\n\t\t\t\tbreak;\n\t\t\tcase 'addUserToCrew':\n\t\t\t\tdocument.getElementById('crewnodisplay').textContent = parseInt(document.getElementById('crewno').value, 10);\n\t\t\t\tcrewNumber = parseInt(document.getElementById('crewno').value, 10);\n\t\t\t\tsetState('wait');\n\t\t\t\tbreak;\n\t\t\tcase 'removeUserFromCrew':\n\t\t\t\tsetState('crew');\n\t\t\t\tbreak;\n\t\t\tcase 'removeUserFromGame':\n\t\t\t\tsetState('join');\n\t\t\t\tbreak;\n\t\t\tcase 'startGame':\n\t\t\t\tsetState('mountNode');\n\t\t\t\tsetupGameEnvironment();\n\t\t\t\tanswers = m.answers;\n\t\t\t\tgame = ReactDOM.render(React.createElement(Game, {\n\t\t\t\t\tsocket: socket, username: username,\n\t\t\t\t\tcrewNumber: crewNumber, answerData: m.answers,\n\t\t\t\t\tcrewSize: m.crewSize\n\t\t\t\t}), document.getElementById('mountNode'));\n\t\t\t\tbreak;\n\t\t\tcase 'answerSelected':\n\t\t\t\tif (m.wasCorrectAnswer) {\n\t\t\t\t\tgame.correctAnswer(m.answer);\n\t\t\t\t} else {\n\t\t\t\t\tgame.incorrectAnswer(m.answer);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'updateHP':\n\t\t\t\tgame.updateHP(m.hp);\n\t\t\t\tbreak;\n\t\t\tcase 'addRock':\n\t\t\t\tgame.addRock(m.startTime);\n\t\t\t\tbreak;\n\t\t\tcase 'endRock':\n\t\t\t\tgame.endRock();\n\t\t\t\tbreak;\n\t\t\tcase 'whirlpoolAhead':\n\t\t\t\tgame.addWhirlpoolTap();\n\t\t\t\tbreak;\n\t\t\tcase 'whirlpoolQuestion':\n\t\t\t\tgame.addWhirlpoolQuestion(m.question);\n\t\t\t\tbreak;\n\t\t\tcase 'whirlpoolBonusReceived':\n\t\t\t\tconsole.log('Bonus received');\n\t\t\t\tgame.setState({ whirlpoolBonus: m.amount });\n\t\t\t\tbreak;\n\t\t\tcase 'whirlpoolConclusion':\n\t\t\t\tgame.setState({ whirlpool: false });\n\t\t\t\tgame.state.whirlpoolTimebar.reset();\n\t\t\t\tbreak;\n\t\t\tcase 'correctAnswer':\n\t\t\t\tgame.addCorrectAnswer(m.answer);\n\t\t\t\tbreak;\n\t\t\tcase 'newQuestion':\n\t\t\t\tgame.newQuestion(m.question);\n\t\t\t\tbreak;\n\t\t\tcase 'endGame':\n\t\t\t\tgameHasEnded = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log('Game recieved unknown event: ', m.event);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t\n\tsocket.onclose = function () {\n\t\tsweetAlert(\"Server connection died.\", \"We're sorry about that.\", \"error\");\n\t};\n\tdocument.getElementById('join').addEventListener('submit', function (e) {\n\t\te.preventDefault();\n\t\tdocument.getElementById('joinGameButton').disabled = true;\n\t\tsocket.send(JSON.stringify({\n\t\t\tevent: 'addUser',\n\t\t\tcode: parseInt(document.getElementById('game-code').value, 10),\n\t\t\tname: document.getElementById('crewmember-name').value\n\t\t}));\n\t\tusername = document.getElementById('crewmember-name').value;\n\t});\n\t\n\tdocument.getElementById('crew').addEventListener('submit', function (e) {\n\t\tdocument.getElementById('joinCrewButton').disabled = true;\n\t\te.preventDefault();\n\t\tsocket.send(JSON.stringify({\n\t\t\tevent: 'addUserToCrew',\n\t\t\tcrewNumber: parseInt(document.getElementById('crewno').value, 10)\n\t\t}));\n\t});\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** game.bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 591fa6b21d91b2d03bf8\n **/","let socket = new WebSocket((location.protocol === 'http:' ? 'ws://' : 'wss://') + location.hostname + (location.port !== 80 ? ':' + location.port : '') + '/play/');\nconst cont = document.getElementById('cont');\nlet gameHasEnded = false;\nlet answers = [];\n\nlet game;\nlet username;\nlet crewNumber;\n\nfunction setState(id) {\n\tcont.children.forEach((e) => {\n\t\tif (e.id !== id) {\n\t\t\te.hidden = true;\n\t\t}\n\t});\n\tdocument.getElementById(id).hidden = false;\n\t// if filling out form, automatically focus\n\t// to the next input field\n\tvar e = document.getElementById(id).getElementsByTagName('input');\n\tif (e.length) e[0].focus();\n}\n\nfunction setupGameEnvironment() {\n\tdocument.getElementById('content').hidden = true;\n\tdocument.body.style.cssText =\n\t\t`background: #32c0cf repeat-x center top; background-size: cover;`;\n}\n\nfunction confirmMessageRecieved() {\n\tsocket.send(JSON.stringify({event: 'messageRecieved'}));\n}\n\nsocket.onmessage = function(m) {\n\ttry {\n\t\tm = JSON.parse(m.data);\n\t} catch (e) {\n\t\tconsole.log(e);\n\t\treturn sweetAlert('Socket error.');\n\t}\n\n\tconfirmMessageRecieved();\n\n\tswitch (m.event) {\n\tcase 'ping':\n\t\tbreak;\n\tcase 'notice':\n\t\terrorEl.textContent = m.body;\n\t\terrorEl.scrollIntoView();\n\t\tbreak;\n\tcase 'error':\n\t\tdocument.getElementById('joinCrewButton').disabled = false;\n\t\tdocument.getElementById('joinGameButton').disabled = false;\n\t\tsweetAlert(m.title, m.text, \"error\");\n\t\tbreak;\n\tcase 'addUser':\n\t\tsetState('crew');\n\t\tbreak;\n\tcase 'addUserToCrew':\n\t\tdocument.getElementById('crewnodisplay').textContent =\n\t\t\tparseInt(document.getElementById('crewno').value, 10);\n\t\tcrewNumber = parseInt(document.getElementById('crewno').value, 10);\n\t\tsetState('wait');\n\t\tbreak;\n\tcase 'removeUserFromCrew':\n\t\tsetState('crew');\n\t\tbreak;\n\tcase 'removeUserFromGame':\n\t\tsetState('join');\n\t\tbreak;\n\tcase 'startGame':\n\t\tsetState('mountNode');\n\t\tsetupGameEnvironment();\n\t\tanswers = m.answers;\n\t\tgame = ReactDOM.render(<Game\n  socket={socket} username={username}\n  crewNumber={crewNumber} answerData={m.answers}\n\tcrewSize={m.crewSize}\n  />,\n\t\t\tdocument.getElementById('mountNode'));\n\t\tbreak;\n\tcase 'answerSelected':\n\t\tif (m.wasCorrectAnswer) {\n\t\t\tgame.correctAnswer(m.answer);\n\t\t} else {\n\t\t\tgame.incorrectAnswer(m.answer);\n\t\t}\n\t\tbreak;\n\tcase 'updateHP':\n\t\tgame.updateHP(m.hp);\n\t\tbreak;\n\tcase 'addRock':\n\t\tgame.addRock(m.startTime);\n\t\tbreak;\n\tcase 'endRock':\n\t\tgame.endRock();\n\t\tbreak;\n\tcase 'whirlpoolAhead':\n\t\tgame.addWhirlpoolTap();\n\t\tbreak;\n\tcase 'whirlpoolQuestion':\n\t\tgame.addWhirlpoolQuestion(m.question);\n\t\tbreak;\n\tcase 'whirlpoolBonusReceived':\n\t\tconsole.log('Bonus received');\n\t\tgame.setState({whirlpoolBonus: m.amount});\n\t\tbreak;\n\tcase 'whirlpoolConclusion':\n\t\tgame.setState({whirlpool: false});\n\t\tgame.state.whirlpoolTimebar.reset();\n\t\tbreak;\n\tcase 'correctAnswer':\n\t\tgame.addCorrectAnswer(m.answer);\n\t\tbreak;\n\tcase 'newQuestion':\n\t\tgame.newQuestion(m.question);\n\t\tbreak;\n\tcase 'endGame':\n\t\tgameHasEnded = true;\n\t\tbreak;\n\tdefault:\n\t\tconsole.log('Game recieved unknown event: ', m.event);\n\t\tbreak;\n\t}\n};\n\nsocket.onclose = () => {\n\tsweetAlert(\"Server connection died.\", \"We're sorry about that.\", \"error\");\n};\ndocument.getElementById('join').addEventListener('submit', (e) => {\n\te.preventDefault();\n\tdocument.getElementById('joinGameButton').disabled = true;\n\tsocket.send(JSON.stringify({\n\t\tevent: 'addUser',\n\t\tcode: parseInt(document.getElementById('game-code').value, 10),\n\t\tname: document.getElementById('crewmember-name').value\n\t}));\n\tusername = document.getElementById('crewmember-name').value;\n});\n\ndocument.getElementById('crew').addEventListener('submit', (e) => {\n\tdocument.getElementById('joinCrewButton').disabled = true;\n\te.preventDefault();\n\tsocket.send(JSON.stringify({\n\t\tevent: 'addUserToCrew',\n\t\tcrewNumber: parseInt(document.getElementById('crewno').value, 10)\n\t}));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./http/game/game.jsx\n **/"],"sourceRoot":""}