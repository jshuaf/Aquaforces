{"version":3,"sources":["webpack:///host.bundle.js","webpack:///webpack/bootstrap ef62caf313f4bd9748cd","webpack:///./http/host/host.jsx","webpack:///./http/host/GameHost.jsx"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","setState","cont","children","forEach","e","hidden","document","getElementById","removeUserFromGame","userToRemove","this","dataset","username","socket","send","JSON","stringify","event","user","parentNode","removeChild","i","usersWithoutCrews","length","splice","indexOf","removeUserFromCrew","gameHasStarted","li","createElement","appendChild","createTextNode","onclick","n","crewNumber","crews","crewmembers","users","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","crewmember","value","err","confirmMessageRecieved","_GameHost","_GameHost2","WebSocket","location","protocol","hostname","port","gameHost","onmessage","parse","data","console","log","sweetAlert","title","text","push","childNodes","firstChild","nodeValue","span","className","crew","name","toString","position","status","boat","ReactDOM","render","React","initialCrews","answerSelected","wasCorrectAnswer","whirlpoolStatusChanged","querySelector","onclose","addEventListener","disabled","preventDefault","Error","code","Crew","createClass","displayName","getInitialState","gameStatus","startTime","Date","props","refs","updateCrewPosition","processAnswer","increment","oldCrews","state","updateCrewStatus","newStatus","updateCrewBoat","newBoat","processWhirlpool","Leaderboard","Object","keys","map","size","key","ref","bind","velocity","deltaVelocity","maximumDeltaVelocity","hp","current","isRaft","isWhirlpool","getDefaultProps","currentConstant","velocityConstant","deltaHPConstant","style","width","marginLeft","borderRadius","border","background","LeaderboardEntry","crewPosition","fontSize","padding","Math","round"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA;;;ADSM,SAASI,EAAQD,EAASH,GAE/B,YAMA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GE5CxF,QAASG,GAASV,GAEjBW,EAAKC,SAASC,QAAQ,SAASC,GAC1BA,EAAEd,IAAMA,IAAIc,EAAEC,QAAS,KAE5BC,SAASC,eAAejB,GAAIe,QAAS,EAGtC,QAASG,KACR,GAAMC,GAAeC,KAAKC,QAAQC,QAClCC,GAAOC,KAAKC,KAAKC,WAChBC,MAAO,aACPC,KAAMT,KAEPC,KAAKS,WAAWC,YAAYV,KAE5B,KAAK,GAAIW,GAAI,EAAGA,EAAIC,EAAkBC,OAAQF,IAAK,CAClD,GAAMT,GAAWU,EAAkBD,EACnC,IAAIZ,GAAgBG,EAAU,CAC7BU,EAAkBE,OAAOF,EAAkBG,QAAQb,GAAW,EAC9D,SAKH,QAASc,KACR,IAAIC,EAAJ,CAGAd,EAAOC,KAAKC,KAAKC,WAChBC,MAAO,qBACPC,KAAMR,KAAKC,QAAQC,WAEpB,IAAIgB,GAAKtB,SAASuB,cAAc,KAChCD,GAAGjB,QAAQC,SAAWF,KAAKC,QAAQC,SACnCgB,EAAGE,YAAYxB,SAASyB,eAAerB,KAAKC,QAAQC,WACpDgB,EAAGI,QAAUxB,EACbF,SAASC,eAAe,aAAauB,YAAYF,GACjDlB,KAAKS,WAAWR,QAAQsB,IACxBvB,KAAKS,WAAWC,YAAYV,KAE5B,KAAK,GAAIwB,KAAcC,GAAO,CAC7B,GAAIC,GAAcD,EAAMD,GAAYG,MADPC,GAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KAE7B,OAAAC,GAAAC,EAAuBP,EAAvBQ,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAoC,IAA3BU,GAA2BN,EAAAO,KACnC,IAAID,GAActC,KAAKC,QAAQC,SAE9B,WADAwB,GAAYZ,OAAOY,EAAYX,QAAQuB,GAAa,IAJzB,MAAAE,GAAAX,GAAA,EAAAC,EAAAU,EAAA,aAAAZ,GAAAK,2BAAA,WAAAJ,EAAA,KAAAC,OAW/B,QAASW,KACRtC,EAAOC,KAAKC,KAAKC,WAAWC,MAAO,qBAhEpC,GAAAmC,GAAAnE,uBAAA,GFqDKoE,EAAazD,EAAuBwD,GEnDnCvC,EAAS,GAAIyC,YAAiC,UAAtBC,SAASC,SAAuB,QAAU,UAAYD,SAASE,UAA6B,IAAjBF,SAASG,KAAa,IAAMH,SAASG,KAAO,IAAM,UACrJzD,EAAOK,SAASC,eAAe,QAE/B4B,KACAb,KAEFqC,EAAA,OACAhC,GAAiB,CA0DrBd,GAAO+C,UAAY,SAASnE,GAC3B,IACCA,EAAIsB,KAAK8C,MAAMpE,EAAEqE,MAChB,MAAO1D,GAER,MADA2D,SAAQC,IAAI5D,GACL6D,WAAW,gBAAiB,SAKpC,OAFAd,IAEQ1D,EAAEwB,OACV,IAAK,OACJ,KACD,KAAK,QACJgD,WAAWxE,EAAEyE,MAAOzE,EAAE0E,KAAM,QAC5B,MACD,KAAK,UACJ7D,SAASC,eAAe,kBAAkBuB,YAAYxB,SAASyB,eAAetC,EAAEH,KAChFU,EAAS,QACT,MACD,KAAK,aACJ,GAAI4B,GAAKtB,SAASuB,cAAc,KAChCD,GAAGjB,QAAQC,SAAWnB,EAAEyB,KACxBU,EAAGE,YAAYxB,SAASyB,eAAetC,EAAEyB,OACzCU,EAAGI,QAAUxB,EACbF,SAASC,eAAe,aAAauB,YAAYF,GACjDN,EAAkB8C,KAAK3E,EAAEyB,KACzB,MACD,KAAK,gBACJZ,SAASC,eAAe,aAAa8D,WAAWlE,QAAQ,SAASC,GAC5DA,EAAEkE,WAAWC,WAAa9E,EAAEyB,MAAMd,EAAEe,WAAWC,YAAYhB,IAEhE,IAAIoE,GAAOlE,SAASuB,cAAc,OAClC2C,GAAK7D,QAAQC,SAAWnB,EAAEyB,KAC1BsD,EAAKC,UAAY,iBACjBD,EAAKxC,QAAUN,EACf8C,EAAK1C,YAAYxB,SAASyB,eAAetC,EAAEyB,OAC3CZ,SAASC,eAAe,SAASL,SAAST,EAAEiF,KAAO,GAAG5C,YAAY0C,GAClElE,SAASC,eAAe,SAASL,SAAST,EAAEiF,KAAO,GAAG/D,QAAQsB,IAC1DxC,EAAEiF,OAAQvC,GACbA,EAAM1C,EAAEiF,MAAMrC,MAAM+B,KAAK3E,EAAEyB,MAE3BiB,EAAM1C,EAAEiF,OACPC,KAAM,QAAWlF,EAAEiF,KAAME,WACzBvC,OAAQ5C,EAAEyB,MACV2D,SAAU,EACVC,OAAQ,SACRC,KAAM,QAGR,MACD,KAAK,YACJzE,SAASC,eAAe,QAAQF,QAAS,EACzCL,EAAS,aACT2B,GAAiB,EACjBgC,EAAWqB,SAASC,OAAOC,MAAArD,cAAAwB,cAAU8B,aAAchD,IAAW7B,SAASC,eAAe,aACtF,MACD,KAAK,iBACJoD,EAASyB,eAAe3F,EAAE4F,iBAAkB5F,EAAEyC,WAE9C,MACD,KAAK,yBACJyB,EAAS2B,uBAAuB7F,EAAEqF,OAAQrF,EAAEyC,WAC5C,MACD,KAAK,aACJ,GAAI9B,GAAIE,SAASiF,cAAc,kBAAoBxE,KAAKC,UAAUvB,EAAEyB,MAAQ,IACxEd,IACHA,EAAEe,WAAWC,YAAYhB,KAO5BS,EAAO2E,QAAU,WAChBvB,WAAW,0BAA2B,0BAA2B,UAElE3D,SAASC,eAAe,aAAakF,iBAAiB,SAAU,SAASrF,GACxEE,SAASC,eAAe,iBAAiBmF,UAAW,EACpDtF,EAAEuF,iBACF9E,EAAOC,KAAKC,KAAKC,WAAWC,MAAO,eAGpCX,SAASC,eAAe,mBAAmBkF,iBAAiB,QAAS,SAASrF,GAC7EE,SAASC,eAAe,mBAAmBmF,UAAW,EACtDtF,EAAEuF,iBACF9E,EAAOC,KAAKC,KAAKC,WAChBC,MAAO;;;AF2FH,SAAS5B,EAAQD,EAASH,GAE/B,YGvPD,IAAMiG,GAAQjG,GAAQ,cAAAmB,GAAA,GAAAwF,OAAA,mCAAAxF,GAAAyF,KAAA,mBAAAzF,MA+EhB0F,GArEWZ,EAAMa,aAAYC,YAAA,WAElCC,gBAFkC,WAGjC,OACCC,WAAY,gBACZC,UAAW,GAAIC,MACfjE,MAAOzB,KAAK2F,MAAMlB,eAIpBC,eAVkC,SAUnBC,EAAkBnD,GAChC,GAAMwC,GAAOhE,KAAK4F,KAAKpE,EAAW0C,WAC9BS,IACH3E,KAAK6F,mBAAmBrE,EAAY,IACrCwC,EAAK8B,cAAcnB,IAGpBkB,mBAjBkC,SAiBfrE,EAAYuE,GAE9B,GAAIC,GAAWhG,KAAKiG,MAAMxE,KAC1BuE,GAASxE,GAAY2C,UAAY4B,EACjC/F,KAAKV,UACJmC,MAAOuE,KAITE,iBA1BkC,SA0BjB1E,EAAY2E,GAC5B,GAAIH,GAAWhG,KAAKiG,KACpBD,GAASvE,MAAMD,GAAYmE,MAAMvB,OAAS+B,EAC1CnG,KAAKV,SAAS0G,IAGfI,eAhCkC,SAgCnB5E,EAAY6E,GAC1B,GAAIL,GAAWhG,KAAKiG,KACpBD,GAASvE,MAAMD,GAAYmE,MAAMtB,KAAOgC,EACxCrG,KAAKV,SAAS0G,IAGfpB,uBAtCkC,SAsCXR,EAAQ5C,GAC9B,GAAMwC,GAAOhE,KAAK4F,KAAKpE,EAAW0C,WAClCF,GAAKsC,iBAAiBlC,IAGvBG,OA3CkC,WA4CjC,MACCC,GAAArD,cAAA,OAAK4C,UAAU,aACdS,EAAArD,cAAA,OAAK4C,UAAU,OACdS,EAAArD,cAAA,OAAK4C,UAAU,iBACdS,EAAArD,cAAA,OAAK4C,UAAU,SACdS,EAAArD,cAACoF,GAAY9E,MAAOzB,KAAKiG,MAAMxE,UAGhC+C,EAAArD,cAAA,OAAK4C,UAAU,gBACdS,EAAArD,cAAA,OAAK4C,UAAU,SACdS,EAAArD,cAAA,UAAIqD,EAAArD,cAAA,8BAEHqF,OAAOC,KAAKzG,KAAKiG,MAAMxE,OAAOiF,IAAI,SAASlF,EAAYb,GACtD,GAAMqD,GAAOhE,KAAKiG,MAAMxE,MAAMD,EAC9B,OAAOgD,GAAArD,cAACiE,GAAKjB,SAAUH,EAAKG,SAAUC,OAAQJ,EAAKI,OAAQC,KAAML,EAAKK,KAAMsC,KAAM3C,EAAKrC,MAAMd,OAAQW,WAAYA,EAAYoF,IAAKjG,EAAGkG,IAAKrF,EAAW0C,cACpJ4C,KAAK9G,cAUHwE,EAAMa,aAAYC,YAAA,OAC9BC,gBAD8B,WAE7B,OACCwB,SAAU,EACVC,cAAe,GACfC,qBAAsB,GACtBC,GAAI,EACJC,YACAC,QAAQ,EACRC,aAAa,IAIfC,gBAb8B,WAc7B,OACCC,gBAAiB,KACjBC,iBAAkB,KAClBC,sBAIFnB,iBArB8B,SAqBblC,GAChB,OAAQA,GACP,IAAK,MACJpE,KAAKV,UAAU+H,aAAa,GAC5B,MACD,KAAK,UACJrH,KAAKV,UAAU4H,GAAIlH,KAAKiG,MAAMiB,GAAK,IAAMG,aAAa,GACtD,MACD,KAAK,cACJrH,KAAKV,UAAU4H,GAAIlH,KAAKiG,MAAMiB,GAAK,IAAMG,aAAa,GACtD,MACD,KAAK,gBACJrH,KAAKV,UAAU6E,SAAUnE,KAAKiG,MAAM9B,SAAW,GAAKkD,aAAa,MAOpEvB,cAxC8B,SAwChBnB,GACTA,EACH3E,KAAKV,UACJyH,SAAU/G,KAAKiG,MAAMc,SAAW/G,KAAKiG,MAAMe,gBAElChH,KAAKiG,MAAMmB,OACrBpH,KAAKV,UAAU0H,cAA0C,IAA3BhH,KAAKiG,MAAMe,iBAEzChH,KAAKV,UACJ4H,GAAIlH,KAAKiG,MAAMiB,GAAKlH,KAAK2F,MAAM8B,mBAE3BzH,KAAKiG,MAAMmB,QAAUpH,KAAKiG,MAAMiB,IAAM,GACzClH,KAAKV,UAAU8H,QAAQ,MAK3B7C,OAzD8B,WA0D7B,GAAImD,IACHC,MAAO,QACPC,WAAmC,IAAtB5H,KAAK2F,MAAMxB,SAAkB,KAC1C0D,aAAc,MACdC,OAAQ,OACRC,WAAY,wBAA0B/H,KAAKiG,MAAMmB,OAAS,QAAU,UAAY,IAAMpH,KAAK2F,MAAMgB,KAAO,sCAEnG5C,EAAY/D,KAAKiG,MAAMmB,OAAS,OAAS,gBAC/C,OAAO5C,GAAArD,cAAA,OAAK4C,UAAWA,EAAW2D,MAAOA,GAAOlD,EAAArD,cAAA,iBAASnB,KAAK2F,MAAMnE,iBAIhE+E,EAAc/B,EAAMa,aAAYC,YAAA,cAErCf,OAFqC,WAQpC,MACCC,GAAArD,cAAA,WACAqD,EAAArD,cAAA,UAAIqD,EAAArD,cAAA,8BAEHqF,OAAOC,KAAKzG,KAAK2F,MAAMlE,OAAOiF,IAAI,SAASlF,EAAYb,GACtD,GAAMqD,GAAOhE,KAAK2F,MAAMlE,MAAMD,EAC9B,OAAOgD,GAAArD,cAAC6G,GAAiBxG,WAAYA,EAAYyG,aAAcjE,EAAKG,SAAUyC,IAAKjG,KAClFmG,KAAK9G,WAOLgI,EAAmBxD,EAAMa,aAAYC,YAAA,mBAC1Cf,OAD0C,WAEzC,GAAImD,IACHQ,SAA0C,IAA/BlI,KAAK2F,MAAMsC,aAAe,GAAU,KAC/CE,QAAS,EAAInI,KAAK2F,MAAMsC,aAAe,KAExC,OAAQzD,GAAArD,cAAA,OAAK4C,UAAU,oBACvBS,EAAArD,cAAA,kBAAUnB,KAAK2F,MAAMnE,WAArB,KAAkCgD,EAAArD,cAAA,QAAMuG,MAAOA,EAAO3D,UAAY,QAAQqE,KAAKC,MAAgC,GAA1BrI,KAAK2F,MAAMsC,cAAqB","file":"host.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!****************************!*\\\n  !*** ./http/host/host.jsx ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _GameHost = __webpack_require__(/*! ./GameHost.jsx */ 1);\n\t\n\tvar _GameHost2 = _interopRequireDefault(_GameHost);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar socket = new WebSocket((location.protocol === 'http:' ? 'ws://' : 'wss://') + location.hostname + (location.port != 80 ? ':' + location.port : '') + '/host/');\n\tvar cont = document.getElementById('cont');\n\t\n\tvar crews = {};\n\tvar usersWithoutCrews = [];\n\t\n\tvar gameHost = void 0;\n\tvar gameHasStarted = false;\n\t\n\tfunction setState(id) {\n\t\t// hide and show different elements\n\t\tcont.children.forEach(function (e) {\n\t\t\tif (e.id != id) e.hidden = true;\n\t\t});\n\t\tdocument.getElementById(id).hidden = false;\n\t}\n\t\n\tfunction removeUserFromGame() {\n\t\tvar userToRemove = this.dataset.username;\n\t\tsocket.send(JSON.stringify({\n\t\t\tevent: 'removeUser',\n\t\t\tuser: userToRemove\n\t\t}));\n\t\tthis.parentNode.removeChild(this);\n\t\n\t\tfor (var i = 0; i < usersWithoutCrews.length; i++) {\n\t\t\tvar username = usersWithoutCrews[i];\n\t\t\tif (userToRemove == username) {\n\t\t\t\tusersWithoutCrews.splice(usersWithoutCrews.indexOf(username), 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction removeUserFromCrew() {\n\t\tif (gameHasStarted) {\n\t\t\treturn;\n\t\t}\n\t\tsocket.send(JSON.stringify({\n\t\t\tevent: 'removeUserFromCrew',\n\t\t\tuser: this.dataset.username\n\t\t}));\n\t\tvar li = document.createElement('li');\n\t\tli.dataset.username = this.dataset.username;\n\t\tli.appendChild(document.createTextNode(this.dataset.username));\n\t\tli.onclick = removeUserFromGame;\n\t\tdocument.getElementById('loneusers').appendChild(li);\n\t\tthis.parentNode.dataset.n--;\n\t\tthis.parentNode.removeChild(this);\n\t\n\t\tfor (var crewNumber in crews) {\n\t\t\tvar crewmembers = crews[crewNumber].users;\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = crewmembers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar crewmember = _step.value;\n\t\n\t\t\t\t\tif (crewmember == this.dataset.username) {\n\t\t\t\t\t\tcrewmembers.splice(crewmembers.indexOf(crewmember), 1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction confirmMessageRecieved() {\n\t\tsocket.send(JSON.stringify({ event: 'messageRecieved' }));\n\t}\n\t\n\tsocket.onmessage = function (m) {\n\t\ttry {\n\t\t\tm = JSON.parse(m.data);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn sweetAlert('Socket error.', 'error');\n\t\t}\n\t\n\t\tconfirmMessageRecieved();\n\t\n\t\tswitch (m.event) {\n\t\t\tcase 'ping':\n\t\t\t\tbreak;\n\t\t\tcase 'error':\n\t\t\t\tsweetAlert(m.title, m.text, \"error\");\n\t\t\t\tbreak;\n\t\t\tcase 'newGame':\n\t\t\t\tdocument.getElementById('game-code-cont').appendChild(document.createTextNode(m.id));\n\t\t\t\tsetState('tgame');\n\t\t\t\tbreak;\n\t\t\tcase 'addNewUser':\n\t\t\t\tvar li = document.createElement('li');\n\t\t\t\tli.dataset.username = m.user;\n\t\t\t\tli.appendChild(document.createTextNode(m.user));\n\t\t\t\tli.onclick = removeUserFromGame;\n\t\t\t\tdocument.getElementById('loneusers').appendChild(li);\n\t\t\t\tusersWithoutCrews.push(m.user);\n\t\t\t\tbreak;\n\t\t\tcase 'addUserToCrew':\n\t\t\t\tdocument.getElementById('loneusers').childNodes.forEach(function (e) {\n\t\t\t\t\tif (e.firstChild.nodeValue == m.user) e.parentNode.removeChild(e);\n\t\t\t\t});\n\t\t\t\tvar span = document.createElement('span');\n\t\t\t\tspan.dataset.username = m.user;\n\t\t\t\tspan.className = 'clickable pill';\n\t\t\t\tspan.onclick = removeUserFromCrew;\n\t\t\t\tspan.appendChild(document.createTextNode(m.user));\n\t\t\t\tdocument.getElementById('crews').children[m.crew - 1].appendChild(span);\n\t\t\t\tdocument.getElementById('crews').children[m.crew - 1].dataset.n++;\n\t\t\t\tif (m.crew in crews) {\n\t\t\t\t\tcrews[m.crew].users.push(m.user);\n\t\t\t\t} else {\n\t\t\t\t\tcrews[m.crew] = {\n\t\t\t\t\t\tname: 'Crew ' + m.crew.toString(),\n\t\t\t\t\t\tusers: [m.user],\n\t\t\t\t\t\tposition: 0,\n\t\t\t\t\t\tstatus: 'rowing',\n\t\t\t\t\t\tboat: 'canoe'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'startGame':\n\t\t\t\tdocument.getElementById('cont').hidden = true;\n\t\t\t\tsetState('mountNode');\n\t\t\t\tgameHasStarted = true;\n\t\t\t\tgameHost = ReactDOM.render(React.createElement(_GameHost2.default, { initialCrews: crews }), document.getElementById('mountNode'));\n\t\t\t\tbreak;\n\t\t\tcase 'answerSelected':\n\t\t\t\tgameHost.answerSelected(m.wasCorrectAnswer, m.crewNumber);\n\t\n\t\t\t\tbreak;\n\t\t\tcase 'whirlpoolStatusChanged':\n\t\t\t\tgameHost.whirlpoolStatusChanged(m.status, m.crewNumber);\n\t\t\t\tbreak;\n\t\t\tcase 'removeUser':\n\t\t\t\tvar e = document.querySelector('[data-username=' + JSON.stringify(m.user) + ']');\n\t\t\t\tif (e) {\n\t\t\t\t\te.parentNode.removeChild(e);\n\t\t\t\t\t// if (e.parentNode.dataset.n) e.parentNode.dataset.n--;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t\n\tsocket.onclose = function () {\n\t\tsweetAlert(\"Server connection died.\", \"We're sorry about that.\", \"error\");\n\t};\n\tdocument.getElementById('dashboard').addEventListener('submit', function (e) {\n\t\tdocument.getElementById('newGameButton').disabled = true;\n\t\te.preventDefault();\n\t\tsocket.send(JSON.stringify({ event: 'newGame' }));\n\t});\n\t\n\tdocument.getElementById('startGameButton').addEventListener('click', function (e) {\n\t\tdocument.getElementById('startGameButton').disabled = true;\n\t\te.preventDefault();\n\t\tsocket.send(JSON.stringify({\n\t\t\tevent: 'startGame'\n\t\t}));\n\t\t// MARK: figure out our html\n\t});\n\tfunction endGame() {\n\t\tsocket.send(JSON.stringify({\n\t\t\tevent: 'endGame'\n\t\t}));\n\t}\n\n/***/ },\n/* 1 */\n/*!********************************!*\\\n  !*** ./http/host/GameHost.jsx ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"react\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t\n\tfunction getValuesOfObject(object) {\n\t\tvar values = [];\n\t\tfor (var key in object) {\n\t\t\tvalues.push(object[key]);\n\t\t}\n\t\treturn values;\n\t}\n\t\n\tvar GameHost = React.createClass({\n\t\tdisplayName: 'GameHost',\n\t\n\t\t// MARK: ADD END GAME\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn {\n\t\t\t\tgameStatus: 'hasNotStarted',\n\t\t\t\tstartTime: new Date(),\n\t\t\t\tcrews: this.props.initialCrews\n\t\t\t};\n\t\t},\n\t\tanswerSelected: function answerSelected(wasCorrectAnswer, crewNumber) {\n\t\t\tvar crew = this.refs[crewNumber.toString()];\n\t\t\tif (wasCorrectAnswer) this.updateCrewPosition(crewNumber, 0.1);\n\t\t\tcrew.processAnswer(wasCorrectAnswer);\n\t\t},\n\t\tupdateCrewPosition: function updateCrewPosition(crewNumber, increment) {\n\t\t\t// MARK: move the camera around\n\t\t\tvar oldCrews = this.state.crews;\n\t\t\toldCrews[crewNumber].position += increment;\n\t\t\tthis.setState({\n\t\t\t\tcrews: oldCrews\n\t\t\t});\n\t\t},\n\t\tupdateCrewStatus: function updateCrewStatus(crewNumber, newStatus) {\n\t\t\tvar oldCrews = this.state;\n\t\t\toldCrews.crews[crewNumber].props.status = newStatus;\n\t\t\tthis.setState(oldCrews);\n\t\t},\n\t\tupdateCrewBoat: function updateCrewBoat(crewNumber, newBoat) {\n\t\t\tvar oldCrews = this.state;\n\t\t\toldCrews.crews[crewNumber].props.boat = newBoat;\n\t\t\tthis.setState(oldCrews);\n\t\t},\n\t\twhirlpoolStatusChanged: function whirlpoolStatusChanged(status, crewNumber) {\n\t\t\tvar crew = this.refs[crewNumber.toString()];\n\t\t\tcrew.processWhirlpool(status);\n\t\t},\n\t\trender: function render() {\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'container' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'row' },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'three columns' },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'panel' },\n\t\t\t\t\t\t\tReact.createElement(Leaderboard, { crews: this.state.crews })\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'nine columns' },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'panel' },\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t'h4',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t'strong',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'Live stream'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tObject.keys(this.state.crews).map(function (crewNumber, i) {\n\t\t\t\t\t\t\t\tvar crew = this.state.crews[crewNumber];\n\t\t\t\t\t\t\t\treturn React.createElement(Crew, { position: crew.position, status: crew.status, boat: crew.boat, size: crew.users.length, crewNumber: crewNumber, key: i, ref: crewNumber.toString() });\n\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\t\n\tvar Crew = React.createClass({\n\t\tdisplayName: 'Crew',\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn {\n\t\t\t\tvelocity: 0,\n\t\t\t\tdeltaVelocity: 10,\n\t\t\t\tmaximumDeltaVelocity: 10,\n\t\t\t\thp: 1,\n\t\t\t\tcurrent: -0.1,\n\t\t\t\tisRaft: false,\n\t\t\t\tisWhirlpool: false\n\t\t\t};\n\t\t},\n\t\tgetDefaultProps: function getDefaultProps() {\n\t\t\treturn {\n\t\t\t\tcurrentConstant: 0.003,\n\t\t\t\tvelocityConstant: 0.00001,\n\t\t\t\tdeltaHPConstant: -0.1\n\t\t\t};\n\t\t},\n\t\tprocessWhirlpool: function processWhirlpool(status) {\n\t\t\tswitch (status) {\n\t\t\t\tcase 'new':\n\t\t\t\t\tthis.setState({ isWhirlpool: true });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'timeout':\n\t\t\t\t\tthis.setState({ hp: this.state.hp - 0.25, isWhirlpool: false });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'wrongAnswer':\n\t\t\t\t\tthis.setState({ hp: this.state.hp - 0.25, isWhirlpool: false });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'correctAnswer':\n\t\t\t\t\tthis.setState({ position: this.state.position + 0.3, isWhirlpool: false });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tprocessAnswer: function processAnswer(wasCorrectAnswer) {\n\t\t\tif (wasCorrectAnswer) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tvelocity: this.state.velocity + this.state.deltaVelocity\n\t\t\t\t});\n\t\t\t} else if (this.state.isRaft) {\n\t\t\t\tthis.setState({ deltaVelocity: this.state.deltaVelocity * 0.25 });\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\thp: this.state.hp + this.props.deltaHPConstant\n\t\t\t\t});\n\t\t\t\tif (!this.state.isRaft && this.state.hp <= 0) {\n\t\t\t\t\tthis.setState({ isRaft: true });\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trender: function render() {\n\t\t\tvar style = {\n\t\t\t\twidth: '10rem',\n\t\t\t\tmarginLeft: this.props.position * 100 + 'px',\n\t\t\t\tborderRadius: '5px',\n\t\t\t\tborder: 'none',\n\t\t\t\tbackground: 'url(/img/boats-side/' + (this.state.isRaft ? 'rafts' : 'canoes') + '/' + this.props.size + '-members.svg) no-repeat center top'\n\t\t\t};\n\t\t\tvar className = this.state.isRaft ? 'raft' : 'racetrack-boat';\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: className, style: style },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'p',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Crew ',\n\t\t\t\t\tthis.props.crewNumber\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\t\n\tvar Leaderboard = React.createClass({\n\t\tdisplayName: 'Leaderboard',\n\t\n\t\t// MARK: make leaderboard sort\n\t\trender: function render() {\n\t\t\tvar style = {\n\t\t\t\tborderStyle: 'dotted',\n\t\t\t\tborderColor: 'green',\n\t\t\t\tborderWidth: 1.0\n\t\t\t};\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'h4',\n\t\t\t\t\tnull,\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'strong',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Leaderboard'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tObject.keys(this.props.crews).map(function (crewNumber, i) {\n\t\t\t\t\tvar crew = this.props.crews[crewNumber];\n\t\t\t\t\treturn React.createElement(LeaderboardEntry, { crewNumber: crewNumber, crewPosition: crew.position, key: i });\n\t\t\t\t}.bind(this))\n\t\t\t);\n\t\t}\n\t});\n\t\n\tvar LeaderboardEntry = React.createClass({\n\t\tdisplayName: 'LeaderboardEntry',\n\t\trender: function render() {\n\t\t\tvar style = {\n\t\t\t\tfontSize: (this.props.crewPosition + 1) * 15 + 'px',\n\t\t\t\tpadding: 5 + this.props.crewPosition + 'px'\n\t\t\t};\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'leaderboardEntry' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'h5',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Crew ',\n\t\t\t\t\tthis.props.crewNumber,\n\t\t\t\t\t': ',\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ style: style, className: 'pill' },\n\t\t\t\t\t\tMath.round(this.props.crewPosition * 10) / 10\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** host.bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ef62caf313f4bd9748cd\n **/","import GameHost from './GameHost.jsx';\n\nconst socket = new WebSocket((location.protocol === 'http:' ? 'ws://' : 'wss://') + location.hostname + (location.port != 80 ? ':' + location.port : '') + '/host/');\nconst cont = document.getElementById('cont');\n\nconst crews = {};\nconst usersWithoutCrews = [];\n\nlet gameHost;\nlet gameHasStarted = false;\n\nfunction setState(id) {\n\t// hide and show different elements\n\tcont.children.forEach(function(e) {\n\t\tif (e.id != id) e.hidden = true;\n\t});\n\tdocument.getElementById(id).hidden = false;\n}\n\nfunction removeUserFromGame() {\n\tconst userToRemove = this.dataset.username;\n\tsocket.send(JSON.stringify({\n\t\tevent: 'removeUser',\n\t\tuser: userToRemove\n\t}));\n\tthis.parentNode.removeChild(this);\n\n\tfor (let i = 0; i < usersWithoutCrews.length; i++) {\n\t\tconst username = usersWithoutCrews[i];\n\t\tif (userToRemove == username) {\n\t\t\tusersWithoutCrews.splice(usersWithoutCrews.indexOf(username), 1);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nfunction removeUserFromCrew() {\n\tif (gameHasStarted) {\n\t\treturn;\n\t}\n\tsocket.send(JSON.stringify({\n\t\tevent: 'removeUserFromCrew',\n\t\tuser: this.dataset.username\n\t}));\n\tlet li = document.createElement('li');\n\tli.dataset.username = this.dataset.username;\n\tli.appendChild(document.createTextNode(this.dataset.username));\n\tli.onclick = removeUserFromGame;\n\tdocument.getElementById('loneusers').appendChild(li);\n\tthis.parentNode.dataset.n--;\n\tthis.parentNode.removeChild(this);\n\n\tfor (let crewNumber in crews) {\n\t\tlet crewmembers = crews[crewNumber].users;\n\t\tfor (let crewmember of crewmembers) {\n\t\t\tif (crewmember == this.dataset.username) {\n\t\t\t\tcrewmembers.splice(crewmembers.indexOf(crewmember), 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction confirmMessageRecieved() {\n\tsocket.send(JSON.stringify({event: 'messageRecieved'}));\n}\n\nsocket.onmessage = function(m) {\n\ttry {\n\t\tm = JSON.parse(m.data);\n\t} catch (e) {\n\t\tconsole.log(e);\n\t\treturn sweetAlert('Socket error.', 'error');\n\t}\n\n\tconfirmMessageRecieved();\n\n\tswitch (m.event) {\n\tcase 'ping':\n\t\tbreak;\n\tcase 'error':\n\t\tsweetAlert(m.title, m.text, \"error\");\n\t\tbreak;\n\tcase 'newGame':\n\t\tdocument.getElementById('game-code-cont').appendChild(document.createTextNode(m.id));\n\t\tsetState('tgame');\n\t\tbreak;\n\tcase 'addNewUser':\n\t\tlet li = document.createElement('li');\n\t\tli.dataset.username = m.user;\n\t\tli.appendChild(document.createTextNode(m.user));\n\t\tli.onclick = removeUserFromGame;\n\t\tdocument.getElementById('loneusers').appendChild(li);\n\t\tusersWithoutCrews.push(m.user);\n\t\tbreak;\n\tcase 'addUserToCrew':\n\t\tdocument.getElementById('loneusers').childNodes.forEach(function(e) {\n\t\t\tif (e.firstChild.nodeValue == m.user) e.parentNode.removeChild(e);\n\t\t});\n\t\tlet span = document.createElement('span');\n\t\tspan.dataset.username = m.user;\n\t\tspan.className = 'clickable pill';\n\t\tspan.onclick = removeUserFromCrew;\n\t\tspan.appendChild(document.createTextNode(m.user));\n\t\tdocument.getElementById('crews').children[m.crew - 1].appendChild(span);\n\t\tdocument.getElementById('crews').children[m.crew - 1].dataset.n++;\n\t\tif (m.crew in crews) {\n\t\t\tcrews[m.crew].users.push(m.user);\n\t\t} else {\n\t\t\tcrews[m.crew] = {\n\t\t\t\tname: 'Crew ' + (m.crew).toString(),\n\t\t\t\tusers: [m.user],\n\t\t\t\tposition: 0,\n\t\t\t\tstatus: 'rowing',\n\t\t\t\tboat: 'canoe'\n\t\t\t};\n\t\t}\n\t\tbreak;\n\tcase 'startGame':\n\t\tdocument.getElementById('cont').hidden = true;\n\t\tsetState('mountNode');\n\t\tgameHasStarted = true;\n\t\tgameHost = ReactDOM.render(<GameHost initialCrews={crews} />, document.getElementById('mountNode'));\n\t\tbreak;\n\tcase 'answerSelected':\n\t\tgameHost.answerSelected(m.wasCorrectAnswer, m.crewNumber);\n\n\t\tbreak;\n\tcase 'whirlpoolStatusChanged':\n\t\tgameHost.whirlpoolStatusChanged(m.status, m.crewNumber);\n\t\tbreak;\n\tcase 'removeUser':\n\t\tlet e = document.querySelector('[data-username=' + JSON.stringify(m.user) + ']');\n\t\tif (e) {\n\t\t\te.parentNode.removeChild(e);\n\t\t\t// if (e.parentNode.dataset.n) e.parentNode.dataset.n--;\n\t\t}\n\t\tbreak;\n\t}\n};\n\nsocket.onclose = () => {\n\tsweetAlert(\"Server connection died.\", \"We're sorry about that.\", \"error\");\n};\ndocument.getElementById('dashboard').addEventListener('submit', function(e) {\n\tdocument.getElementById('newGameButton').disabled = true;\n\te.preventDefault();\n\tsocket.send(JSON.stringify({event: 'newGame'}));\n});\n\ndocument.getElementById('startGameButton').addEventListener('click', function(e) {\n\tdocument.getElementById('startGameButton').disabled = true;\n\te.preventDefault();\n\tsocket.send(JSON.stringify({\n\t\tevent: 'startGame'\n\t}));\n\t// MARK: figure out our html\n});\nfunction endGame() {\n    socket.send(JSON.stringify({\n        event: 'endGame'\n    }));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./http/host/host.jsx\n **/","const React = require('react');\n\nfunction getValuesOfObject(object) {\n\tlet values = [];\n\tfor (let key in object) {\n\t\tvalues.push(object[key]);\n\t}\n\treturn values;\n}\n\nconst GameHost = React.createClass({\n\t// MARK: ADD END GAME\n\tgetInitialState() {\n\t\treturn {\n\t\t\tgameStatus: 'hasNotStarted',\n\t\t\tstartTime: new Date(),\n\t\t\tcrews: this.props.initialCrews\n\t\t};\n\t},\n\n\tanswerSelected(wasCorrectAnswer, crewNumber) {\n\t\tconst crew = this.refs[crewNumber.toString()];\n\t\tif (wasCorrectAnswer)\n\t\t\tthis.updateCrewPosition(crewNumber, 0.1);\n\t\tcrew.processAnswer(wasCorrectAnswer);\n\t},\n\n\tupdateCrewPosition(crewNumber, increment) {\n\t\t// MARK: move the camera around\n\t\tlet oldCrews = this.state.crews;\n\t\toldCrews[crewNumber].position += increment;\n\t\tthis.setState({\n\t\t\tcrews: oldCrews\n\t\t});\n\t},\n\n\tupdateCrewStatus(crewNumber, newStatus) {\n\t\tlet oldCrews = this.state;\n\t\toldCrews.crews[crewNumber].props.status = newStatus;\n\t\tthis.setState(oldCrews);\n\t},\n\n\tupdateCrewBoat(crewNumber, newBoat) {\n\t\tlet oldCrews = this.state;\n\t\toldCrews.crews[crewNumber].props.boat = newBoat;\n\t\tthis.setState(oldCrews);\n\t},\n\n\twhirlpoolStatusChanged(status, crewNumber) {\n\t\tconst crew = this.refs[crewNumber.toString()];\n\t\tcrew.processWhirlpool(status);\n\t},\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"three columns\">\n\t\t\t\t\t\t<div className=\"panel\">\n\t\t\t\t\t\t\t<Leaderboard crews={this.state.crews} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"nine columns\">\n\t\t\t\t\t\t\t<div className=\"panel\">\n\t\t\t\t\t\t\t\t<h4><strong>Live stream</strong></h4>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tObject.keys(this.state.crews).map(function(crewNumber, i) {\n\t\t\t\t\t\t\t\t\t\tconst crew = this.state.crews[crewNumber];\n\t\t\t\t\t\t\t\t\t\treturn <Crew position={crew.position} status={crew.status} boat={crew.boat} size={crew.users.length} crewNumber={crewNumber} key={i} ref={crewNumber.toString()}/>;\n\t\t\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst Crew = React.createClass({\n\tgetInitialState() {\n\t\treturn {\n\t\t\tvelocity: 0,\n\t\t\tdeltaVelocity: 10,\n\t\t\tmaximumDeltaVelocity: 10,\n\t\t\thp: 1,\n\t\t\tcurrent: -0.1,\n\t\t\tisRaft: false,\n\t\t\tisWhirlpool: false\n\t\t};\n\t},\n\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tcurrentConstant: 0.003,\n\t\t\tvelocityConstant: 0.00001,\n\t\t\tdeltaHPConstant: -0.1\n\t\t};\n\t},\n\n\tprocessWhirlpool(status) {\n\t\tswitch (status) {\n\t\t\tcase 'new':\n\t\t\t\tthis.setState({isWhirlpool: true});\n\t\t\t\tbreak;\n\t\t\tcase 'timeout':\n\t\t\t\tthis.setState({hp: this.state.hp - 0.25, isWhirlpool: false});\n\t\t\t\tbreak;\n\t\t\tcase 'wrongAnswer':\n\t\t\t\tthis.setState({hp: this.state.hp - 0.25, isWhirlpool: false});\n\t\t\t\tbreak;\n\t\t\tcase 'correctAnswer':\n\t\t\t\tthis.setState({position: this.state.position + 0.3, isWhirlpool: false});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t},\n\n\tprocessAnswer(wasCorrectAnswer) {\n\t\tif (wasCorrectAnswer) {\n\t\t\tthis.setState({\n\t\t\t\tvelocity: this.state.velocity + this.state.deltaVelocity\n\t\t\t});\n\t\t} else if (this.state.isRaft) {\n\t\t\tthis.setState({deltaVelocity: this.state.deltaVelocity * 0.25});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\thp: this.state.hp + this.props.deltaHPConstant\n\t\t\t});\n\t\t\tif (!this.state.isRaft && this.state.hp <= 0) {\n\t\t\t\t\tthis.setState({isRaft: true});\n\t\t\t}\n\t\t}\n\t},\n\n\trender() {\n\t\tlet style = {\n\t\t\twidth: '10rem',\n\t\t\tmarginLeft: (this.props.position * 100) + 'px',\n\t\t\tborderRadius: '5px',\n\t\t\tborder: 'none',\n\t\t\tbackground: 'url(/img/boats-side/' + (this.state.isRaft ? 'rafts' : 'canoes') + '/' + this.props.size + '-members.svg) no-repeat center top'\n\t\t};\n\t\tconst className = this.state.isRaft ? 'raft' : 'racetrack-boat';\n\t\treturn <div className={className} style={style}><p>Crew {this.props.crewNumber}</p></div>;\n\t}\n});\n\nconst Leaderboard = React.createClass({\n\t// MARK: make leaderboard sort\n\trender() {\n\t\tconst style = {\n\t\t\tborderStyle: 'dotted',\n\t\t\tborderColor: 'green',\n\t\t\tborderWidth: 1.0\n\t\t};\n\t\treturn (\n\t\t\t<div>\n\t\t\t<h4><strong>Leaderboard</strong></h4>\n\t\t\t{\n\t\t\t\tObject.keys(this.props.crews).map(function(crewNumber, i) {\n\t\t\t\t\tconst crew = this.props.crews[crewNumber];\n\t\t\t\t\treturn <LeaderboardEntry crewNumber={crewNumber} crewPosition={crew.position} key={i} />;\n\t\t\t\t}.bind(this))\n\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst LeaderboardEntry = React.createClass({\n\trender() {\n\t\tlet style = {\n\t\t\tfontSize: (this.props.crewPosition + 1) * 15 + 'px',\n\t\t\tpadding: 5 + this.props.crewPosition + 'px'\n\t\t};\n\t\treturn (<div className=\"leaderboardEntry\">\n\t\t<h5>Crew {this.props.crewNumber}: <span style={style} className = \"pill\">{Math.round(this.props.crewPosition * 10) / 10}</span></h5>\n\t\t</div>);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./http/host/GameHost.jsx\n **/"],"sourceRoot":""}